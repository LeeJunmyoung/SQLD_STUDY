# 절차형 SQL
1. 일반적인 개발언어처럼 SQL문도 절차지향적인 프로그램 작성이 가능하도록 절차 형 SQL을 제공한다.
2. 절차형 SQL을 사용하면 SQL문의 연속적인 실행이나 조건에 따른 분기 처리를 수행하는 모듈을 생성 할 수 있다.
3. 오라클 기준 이러한 절차형 모듈의 종류는 프로시저, 사용자 정의 함수, 트리거 가 있다.
4. 오라클 기준 이러한 절차형 모듈을 PL/SQL이라고 부른다.

## PL/SQL
1. PL/SQL은 Block 구조로 되어 있고 Block 내에는 SQL문, IF, LOOP 등이 존재함
2. PL/SQL을 이용해서 다양한 모듈을 개발 가능

### PL/SQL 특징
1. Block 구조로 되어있으며 각 기능별로 모듈화가 가능
2. 변수/상수 선언 및 IF/LOOP문 등의 사용이 가능
3. DBMS에러나 사용자 에러 정의를 할 수 있음.
4. PL/SQL은 오라클에 내장 시킬수 있으므로 어떠한 오라클 서버로도 이식이 가능
5. PL/SQL은 여러 SQL문장을 Block으로 묶고 한번에 Block 전부를 서버로 보내기 때문에 네트워크 패킷 수를 감소 시킴.

### PL/SQL Block 구조
구조명|필수/선택|설명
---|---|---
DECLARE(선언부)|필수|BEGIN~END 에서 사용할 변수나 인수에 대한 정의 및 데이터 타입 선언
BEGIN(실행부)|필수|개발자가 처리하고자 하는 SQL문과 필요한 LOGIC(비교문, 제어문 등)이 정의 되는 실행 부
EXCEPTION(예외 처리 부)|선택|BEGIN~END에서 실행되는 SQL문에 발생된 에러를 처리하는 에러 처리부
END|필수|PL/SQL Block 끝

* EXCEPTION은 선택 항목임.


## 사용자 정의 함수란
1. 사용자 정의 함수는 프로시저처럼 SQL문을 IF/LOOP 등의 로직과 함께 데이터 베이스에 저장해 놓은 명령문의 집합이다.
2. SUM, AVG, NVL의 함수 처럼 호출해서 사용할 수 잇다.
3. 프로시저와 차이점은 반드시 한 건을 되돌려 줘야 한다는 것이다.


## 트리거란
1. 특정한 테이블에 INSERT, UPDATE, DELETE 를 수행 할 때 DBMS 내에서 자동으로 동작하도록 작성된 프로그램이다.
2. 즉 사용자가 직접 호출하는 것이 아니고 DBMS가 자동적으로 수행한다.
3. 트리거는 테이블과 뷰, DB 작업을 대상으로 정의 할 수 있으며, 전체 트랜잭션 작업에 대해 발생되는 트리거와 각행에 대해 발생되는 트리거가 있다.

## 프로시저와 트리거의 차이점
프로시저|트리거
---|---
CREATE PROCEDURE 문법 사용| CREATE TRIGGER 문법 사용
EXECUTE/EXEC 명령어로 실행|생성 후 자동으로 실행
내부에서 COMMIT, ROLLBACK 실행 가능|내부에서 COMMIT,ROLLBACK 실행 안됨.